## $Id$

O             := @o@
## Setup some commands
MAKE          := @make_c@
PERL          := @perl@
CAT           := @cat@
CHMOD         := @chmod@
CP            := @cp@
MKPATH        := @mkpath@
RM_F          := @rm_f@
RM_RF         := @rm_rf@
POD2MAN       := pod2man
#IF(parrot_is_shared and not(cygwin or win32)):export LD_RUN_PATH := @blib_dir@:$(LD_RUN_PATH)
PARROT        := $(BIN_DIR)/parrot@exe@
#IF(@bigendian@):ENDIAN        := -DDECLITEND=0
#ELSE:ENDIAN        := -DDECLITEND=1
CC            := @cc@ -c
CC_OUT        := @cc_o_out@
CFLAGS        := @ccflags@ @cc_shared@ @cc_debug@ @ccwarn@ @cc_hasjit@\
                 @cg_flag@ @gc_flag@ $(ENDIAN) -DDECUSE64=0 -DDECDPUN=4\
                 -DDECNUMDIGITS=50
CLEANUPS := "*$(O)"

all: compile

compile: decContext$(O) decNumber$(O)

decContext$(O): decContext.c decContext.h
	$(CC) $(CFLAGS) $(CC_OUT)decContext$(O) decContext.c

decNumber$(O): decNumber.c decNumber.h decContext.h
	$(CC) $(CFLAGS) $(CC_OUT)decNumber$(O) decNumber.c

clean:
	$(RM_F) $(CLEANUPS)

realclean:
	$(RM_F) $(CLEANUPS) Makefile

# Local variables:
#   mode: makefile
# End:
# vim: ft=make:
